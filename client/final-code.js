module.exports = function() {

  document.write('<link rel="stylesheet" href="https://gist-assets.github.com/assets/embed-8bf0013c72fb64f0bb1bc1872b43e39e.css">')
  document.write('<div id=\"gist21459388\" class=\"gist\">\n        <div class=\"gist-file\">\n          <div class=\"gist-data gist-syntax\">\n            \n\n\n\n    <div class=\"file-data\">\n      <table cellpadding=\"0\" cellspacing=\"0\" class=\"lines highlight\">\n        <tr>\n          <td class=\"line-numbers\">\n            <span class=\"line-number\" id=\"file-final-rp-js-L1\" rel=\"file-final-rp-js-L1\">1<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L2\" rel=\"file-final-rp-js-L2\">2<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L3\" rel=\"file-final-rp-js-L3\">3<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L4\" rel=\"file-final-rp-js-L4\">4<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L5\" rel=\"file-final-rp-js-L5\">5<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L6\" rel=\"file-final-rp-js-L6\">6<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L7\" rel=\"file-final-rp-js-L7\">7<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L8\" rel=\"file-final-rp-js-L8\">8<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L9\" rel=\"file-final-rp-js-L9\">9<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L10\" rel=\"file-final-rp-js-L10\">10<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L11\" rel=\"file-final-rp-js-L11\">11<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L12\" rel=\"file-final-rp-js-L12\">12<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L13\" rel=\"file-final-rp-js-L13\">13<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L14\" rel=\"file-final-rp-js-L14\">14<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L15\" rel=\"file-final-rp-js-L15\">15<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L16\" rel=\"file-final-rp-js-L16\">16<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L17\" rel=\"file-final-rp-js-L17\">17<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L18\" rel=\"file-final-rp-js-L18\">18<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L19\" rel=\"file-final-rp-js-L19\">19<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L20\" rel=\"file-final-rp-js-L20\">20<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L21\" rel=\"file-final-rp-js-L21\">21<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L22\" rel=\"file-final-rp-js-L22\">22<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L23\" rel=\"file-final-rp-js-L23\">23<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L24\" rel=\"file-final-rp-js-L24\">24<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L25\" rel=\"file-final-rp-js-L25\">25<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L26\" rel=\"file-final-rp-js-L26\">26<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L27\" rel=\"file-final-rp-js-L27\">27<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L28\" rel=\"file-final-rp-js-L28\">28<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L29\" rel=\"file-final-rp-js-L29\">29<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L30\" rel=\"file-final-rp-js-L30\">30<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L31\" rel=\"file-final-rp-js-L31\">31<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L32\" rel=\"file-final-rp-js-L32\">32<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L33\" rel=\"file-final-rp-js-L33\">33<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L34\" rel=\"file-final-rp-js-L34\">34<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L35\" rel=\"file-final-rp-js-L35\">35<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L36\" rel=\"file-final-rp-js-L36\">36<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L37\" rel=\"file-final-rp-js-L37\">37<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L38\" rel=\"file-final-rp-js-L38\">38<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L39\" rel=\"file-final-rp-js-L39\">39<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L40\" rel=\"file-final-rp-js-L40\">40<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L41\" rel=\"file-final-rp-js-L41\">41<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L42\" rel=\"file-final-rp-js-L42\">42<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L43\" rel=\"file-final-rp-js-L43\">43<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L44\" rel=\"file-final-rp-js-L44\">44<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L45\" rel=\"file-final-rp-js-L45\">45<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L46\" rel=\"file-final-rp-js-L46\">46<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L47\" rel=\"file-final-rp-js-L47\">47<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L48\" rel=\"file-final-rp-js-L48\">48<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L49\" rel=\"file-final-rp-js-L49\">49<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L50\" rel=\"file-final-rp-js-L50\">50<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L51\" rel=\"file-final-rp-js-L51\">51<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L52\" rel=\"file-final-rp-js-L52\">52<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L53\" rel=\"file-final-rp-js-L53\">53<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L54\" rel=\"file-final-rp-js-L54\">54<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L55\" rel=\"file-final-rp-js-L55\">55<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L56\" rel=\"file-final-rp-js-L56\">56<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L57\" rel=\"file-final-rp-js-L57\">57<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L58\" rel=\"file-final-rp-js-L58\">58<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L59\" rel=\"file-final-rp-js-L59\">59<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L60\" rel=\"file-final-rp-js-L60\">60<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L61\" rel=\"file-final-rp-js-L61\">61<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L62\" rel=\"file-final-rp-js-L62\">62<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L63\" rel=\"file-final-rp-js-L63\">63<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L64\" rel=\"file-final-rp-js-L64\">64<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L65\" rel=\"file-final-rp-js-L65\">65<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L66\" rel=\"file-final-rp-js-L66\">66<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L67\" rel=\"file-final-rp-js-L67\">67<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L68\" rel=\"file-final-rp-js-L68\">68<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L69\" rel=\"file-final-rp-js-L69\">69<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L70\" rel=\"file-final-rp-js-L70\">70<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L71\" rel=\"file-final-rp-js-L71\">71<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L72\" rel=\"file-final-rp-js-L72\">72<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L73\" rel=\"file-final-rp-js-L73\">73<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L74\" rel=\"file-final-rp-js-L74\">74<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L75\" rel=\"file-final-rp-js-L75\">75<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L76\" rel=\"file-final-rp-js-L76\">76<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L77\" rel=\"file-final-rp-js-L77\">77<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L78\" rel=\"file-final-rp-js-L78\">78<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L79\" rel=\"file-final-rp-js-L79\">79<\/span>\n            <span class=\"line-number\" id=\"file-final-rp-js-L80\" rel=\"file-final-rp-js-L80\">80<\/span>\n          <\/td>\n          <td class=\"line-data\">\n            <pre class=\"line-pre\"><div class=\"line\" id=\"file-final-rp-js-LC1\">  <span class=\"pl-s\">var<\/span> ss <span class=\"pl-k\">=<\/span> <span class=\"pl-s3\">require<\/span>(<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>simple-statistics<span class=\"pl-pds\">&#39;<\/span><\/span>)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC2\">  <span class=\"pl-s\">var<\/span> accounting <span class=\"pl-k\">=<\/span> <span class=\"pl-s3\">require<\/span>(<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>accounting<span class=\"pl-pds\">&#39;<\/span><\/span>)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC3\">  <span class=\"pl-s\">var<\/span> ReactPivot <span class=\"pl-k\">=<\/span> <span class=\"pl-s3\">require<\/span>(<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>react-pivot/load<span class=\"pl-pds\">&#39;<\/span><\/span>)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC4\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC5\">  <span class=\"pl-s\">var<\/span> fetch <span class=\"pl-k\">=<\/span> <span class=\"pl-s3\">require<\/span>(<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>./fetch<span class=\"pl-pds\">&#39;<\/span><\/span>)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC6\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC7\">  <span class=\"pl-s\">var<\/span> url <span class=\"pl-k\">=<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>/data<span class=\"pl-pds\">&#39;<\/span><\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC8\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC9\">  <span class=\"pl-s\">var<\/span> dimensions <span class=\"pl-k\">=<\/span> [\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC10\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Title<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>title<span class=\"pl-pds\">&#39;<\/span><\/span>, <span class=\"pl-en\">template<\/span>: <span class=\"pl-st\">function<\/span>(<span class=\"pl-vpf\">val<\/span>, <span class=\"pl-vpf\">row<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC11\">      <span class=\"pl-k\">return<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;a href=&quot;<span class=\"pl-pds\">&#39;<\/span><\/span><span class=\"pl-k\">+<\/span>row.<span class=\"pl-sc\">source<\/span><span class=\"pl-k\">+<\/span><span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&quot;&gt;<span class=\"pl-pds\">&#39;<\/span><\/span><span class=\"pl-k\">+<\/span>val<span class=\"pl-k\">+<\/span><span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;/a&gt;<span class=\"pl-pds\">&#39;<\/span><\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC12\">    }},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC13\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Studio<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>studio<span class=\"pl-pds\">&#39;<\/span><\/span>},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC14\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Genre<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>genre<span class=\"pl-pds\">&#39;<\/span><\/span>},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC15\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Story<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>story<span class=\"pl-pds\">&#39;<\/span><\/span>}\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC16\">  ]\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC17\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC18\">  <span class=\"pl-s\">var<\/span> <span class=\"pl-en\">reduce<\/span> <span class=\"pl-k\">=<\/span> <span class=\"pl-st\">function<\/span>(<span class=\"pl-vpf\">row<\/span>, <span class=\"pl-vpf\">memo<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC19\">    memo.count <span class=\"pl-k\">=<\/span> memo.count <span class=\"pl-k\">||<\/span> <span class=\"pl-c1\">0<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC20\">    memo.count <span class=\"pl-k\">+=<\/span> <span class=\"pl-c1\">1<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC21\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC22\">    memo.budget <span class=\"pl-k\">=<\/span> memo.budget <span class=\"pl-k\">||<\/span> <span class=\"pl-c1\">0<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC23\">    memo.budget <span class=\"pl-k\">+=<\/span> row.budget\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC24\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC25\">    memo.gross <span class=\"pl-k\">=<\/span> memo.gross <span class=\"pl-k\">||<\/span> <span class=\"pl-c1\">0<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC26\">    memo.gross <span class=\"pl-k\">+=<\/span> row.grossWorldwide\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC27\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC28\">    memo.profit <span class=\"pl-k\">=<\/span> memo.profit <span class=\"pl-k\">||<\/span> <span class=\"pl-c1\">0<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC29\">    memo.profit <span class=\"pl-k\">+=<\/span> row.grossWorldwide <span class=\"pl-k\">-<\/span> row.budget\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC30\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC31\">    memo.rottenTomatoesScore <span class=\"pl-k\">=<\/span> memo.rottenTomatoesScore <span class=\"pl-k\">||<\/span> <span class=\"pl-c1\">0<\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC32\">    memo.rottenTomatoesScore <span class=\"pl-k\">+=<\/span> row.rottenTomatoesScore\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC33\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC34\">    memo.budgetAvg <span class=\"pl-k\">=<\/span> memo.budget / memo.count\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC35\">    memo.grossAvg <span class=\"pl-k\">=<\/span> memo.gross / memo.count\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC36\">    memo.profitAvg <span class=\"pl-k\">=<\/span> memo.profit / memo.count\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC37\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC38\">    memo.tomatoAvg <span class=\"pl-k\">=<\/span> memo.rottenTomatoesScore / memo.count\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC39\">    memo.tomatoCost <span class=\"pl-k\">=<\/span> memo.budget / memo.rottenTomatoesScore\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC40\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC41\">    <span class=\"pl-k\">return<\/span> memo\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC42\">  }\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC43\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC44\">  <span class=\"pl-s\">var<\/span> calculations <span class=\"pl-k\">=<\/span> [\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC45\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Budget<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>budget<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC46\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Budget Avg<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>budgetAvg<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC47\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Gross<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>gross<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC48\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Gross Avg<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>grossAvg<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC49\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Profit<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>profit<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> rgMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC50\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Profit Avg<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>profitAvg<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> rgMoney},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC51\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Tomatoes<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>tomatoAvg<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fNumber},\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC52\">    {title<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>$/Tomato<span class=\"pl-pds\">&#39;<\/span><\/span>, className<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>right<span class=\"pl-pds\">&#39;<\/span><\/span>, value<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>tomatoCost<span class=\"pl-pds\">&#39;<\/span><\/span>, template<span class=\"pl-k\">:<\/span> fMoney}\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC53\">  ]\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC54\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC55\">  fetch(url, <span class=\"pl-st\">function<\/span>(<span class=\"pl-vpf\">err<\/span>, <span class=\"pl-vpf\">rawData<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC56\">    <span class=\"pl-k\">if<\/span> (err) <span class=\"pl-k\">return<\/span> <span class=\"pl-en\">console<\/span><span class=\"pl-s3\">.error<\/span>(err)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC57\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC58\">    ReactPivot(<span class=\"pl-s3\">document<\/span>.<span class=\"pl-sc\">body<\/span>, {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC59\">      rows<span class=\"pl-k\">:<\/span> rawData,\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC60\">      dimensions<span class=\"pl-k\">:<\/span> dimensions,\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC61\">      reduce<span class=\"pl-k\">:<\/span> reduce,\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC62\">      calculations<span class=\"pl-k\">:<\/span> calculations,\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC63\">      activeDimensions<span class=\"pl-k\">:<\/span> [<span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Studio<span class=\"pl-pds\">&#39;<\/span><\/span>],\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC64\">      sortBy<span class=\"pl-k\">:<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>Studio<span class=\"pl-pds\">&#39;<\/span><\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC65\">    })\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC66\">  })\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC67\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC68\">  <span class=\"pl-st\">function<\/span> <span class=\"pl-en\">fMoney<\/span> (<span class=\"pl-vpf\">val<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC69\">    <span class=\"pl-k\">if<\/span> (<span class=\"pl-k\">typeof<\/span> val <span class=\"pl-k\">===<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>string<span class=\"pl-pds\">&#39;<\/span><\/span>) <span class=\"pl-k\">return<\/span> val\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC70\">    <span class=\"pl-k\">return<\/span> accounting.formatMoney(val)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC71\">  }\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC72\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC73\">  <span class=\"pl-st\">function<\/span> <span class=\"pl-en\">fNumber<\/span> (<span class=\"pl-vpf\">val<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC74\">    <span class=\"pl-k\">return<\/span> accounting.formatNumber(val)\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC75\">  }\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC76\">&nbsp;\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC77\">  <span class=\"pl-st\">function<\/span> <span class=\"pl-en\">rgMoney<\/span> (<span class=\"pl-vpf\">val<\/span>) {\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC78\">    <span class=\"pl-k\">if<\/span> (val <span class=\"pl-k\">&gt;=<\/span> <span class=\"pl-c1\">0<\/span>) <span class=\"pl-k\">return<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;span style=&quot;color: green&quot;&gt;<span class=\"pl-pds\">&#39;<\/span><\/span><span class=\"pl-k\">+<\/span>fMoney(val)<span class=\"pl-k\">+<\/span><span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;/span&gt;<span class=\"pl-pds\">&#39;<\/span><\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC79\">    <span class=\"pl-k\">return<\/span> <span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;span style=&quot;color: red&quot;&gt;<span class=\"pl-pds\">&#39;<\/span><\/span><span class=\"pl-k\">+<\/span>fMoney(val)<span class=\"pl-k\">+<\/span><span class=\"pl-s1\"><span class=\"pl-pds\">&#39;<\/span>&lt;/span&gt;<span class=\"pl-pds\">&#39;<\/span><\/span>\n<\/div><div class=\"line\" id=\"file-final-rp-js-LC80\">  }\n<\/div><\/pre>\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n\n          <\/div>\n          <div class=\"gist-meta\">\n            <a href=\"https://gist.github.com/davidguttman/d38e7e274b2429222194/raw/final-rp.js\" style=\"float:right\">view raw<\/a>\n            <a href=\"https://gist.github.com/davidguttman/d38e7e274b2429222194#file-final-rp-js\">final-rp.js<\/a>\n            hosted with &#10084; by <a href=\"https://github.com\">GitHub<\/a>\n          <\/div>\n        <\/div>\n<\/div>\n')

}
